<!DOCTYPE html>
<!-- This site was created in Webflow. http://www.webflow.com -->
<!-- Last Published: Tue Nov 20 2018 15:59:31 GMT+0000 (UTC) -->
<html>
  <head>
    <meta charset="utf-8" />
    <title>Anthony&#x27;s Amazing Project</title>
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <meta content="Webflow" name="generator" />
    <link href="../css/normalize.css" rel="stylesheet" type="text/css" />
    <link href="../css/webflow.css" rel="stylesheet" type="text/css" />
    <link
      href="../css/anthonys-amazing-project-44601a.webflow.css"
      rel="stylesheet"
      type="text/css"
    />
    <!--
      [if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif]
    -->
    <!--
      <script type="text/javascript">
        !(function(o, c) {
          var n = c.documentElement,
            t = " w-mod-";
          (n.className += t + "js"),
            ("ontouchstart" in o ||
              (o.DocumentTouch && c instanceof DocumentTouch)) &&
              (n.className += t + "touch");
        })(window, document);
      </script>
    -->
    <link
      href="https://daks2k3a4ib2z.cloudfront.net/img/favicon.ico"
      rel="shortcut icon"
      type="image/x-icon"
    />
    <link
      href="https://daks2k3a4ib2z.cloudfront.net/img/webclip.png"
      rel="apple-touch-icon"
    />
  </head>
  <body>
    <div class="div-block">
      <h1 class="heading w-hidden-small">Settings<br />‚Äç</h1>
    </div>
    <div>
      <h2 class="heading-2">General Settings</h2>
      <div>
        <div class="form-block-2 w-form">
          <form id="form" class="form">
            <div>
              <label>Complexity Level</label
              ><select id="field" required="true" class="w-select"
                ><option value="">Select one...</option
                ><option value="First">First Choice</option
                ><option value="Second">Second Choice</option
                ><option value="Third">Third Choice</option></select
              >
            </div>
            <div>
              <label>Selector/ Interaction</label
              ><select id="field-2" required="true" class="w-select"
                ><option value="">Select one...</option
                ><option value="First">Button</option
                ><option value="Second">Joy-Stick</option
                ><option value="Third">Mouse-Wheel</option
                ><option value="Fourth">Scroller</option
                ><option value="Fifth">Eye-Tracker</option></select
              >
            </div>
            <div>
              <label>Auto-Scroll</label
              ><select id="field-3" required="true" class="w-select"
                ><option value="">Select one...</option
                ><option value="First">On</option
                ><option value="Second">Off</option></select
              >
            </div>
            <div>
              <label>Click Events</label>
              <div>
                <div id="CE">
                  <button type="button" class="btn blue" onclick="addInitial(this)">
                    +
                  </button>
                </div>
            </div>
            <div>
              <label>Hover Events</label>
              <div>
                <div id="HE">
                  <button type="button" class="btn blue" onclick="addInitial(this)">
                    +
                  </button>
                </div>
              </div>
            </div>
            <button type="button" class="btn blue" id="save" onclick="myFunction()">
              Submit
            </button>
          </form>

          <div class="w-form-done">
            <div>Thank you! Your submission has been received!</div>
          </div>
          <div class="w-form-fail">
            <div>Oops! Something went wrong while submitting the form.</div>
          </div>
        </div>
      </div>
    </div>
    <script>
      function myFunction() {
        var str = "";
        var elem = document.getElementById("form").elements;
        console.log(elem);

        var complexityLvlField = document.getElementById("field");
        var complexityLvlChoice =
          complexityLvlField.options[complexityLvlField.selectedIndex].text;

        var selectorField = document.getElementById("field-2");
        var selectorChoice =
          selectorField.options[selectorField.selectedIndex].text;

        var autoScrollField = document.getElementById("field-3");
        var autoScrollChoice =
          autoScrollField.options[autoScrollField.selectedIndex].text;

        console.log(complexityLvlChoice, selectorChoice, autoScrollChoice);
      }

      function addInitial(mainDiv){

        // Create a new div for holding text and button input elements

        mainDiv = mainDiv.parentNode;

        var newDiv = document.createElement("div");
        newDiv.setAttribute("class", mainDiv.id);
        addNew(newDiv);
        mainDiv.appendChild(newDiv);

      }

      var counter = 0;

      function addNew(item) {
        console.log("clicked");
        // Get the main Div in which all the other divs will be added
        mainContainer = item;


        // var mainContainer = document.getElementById("mainContainer");

        var count = mainContainer.getElementsByTagName("select").length;
        var setting = mainContainer.className;

        console.log(count);
        console.log(setting);

        if(count>2)
          return;

        var optionText, option2Text, option3Text;
        var options = {
          0:"Select",
          1:"",
          2:"",
          3:""
        }

        switch(count){
          case 0:
            if(setting==="CE"){
              options['0'] = "Select";
              options['1'] = "Keyboard";
              options['2'] = "Keyboard";
              options['3'] = "Keyboard";

            }
            if(setting==="HE"){
              options['0'] = "Select";
              options['1'] = "Mouse";
              options['2'] = "Mouse";
              options['3'] = "Mouse";
            }
            break;
          case 1:
            if(setting==="CE"){
              options['0'] = "Select";
              options['1'] = "Select Next";
              options['2'] = "Select Previous";
              options['3'] = "Clicked Selected";
            }
            if(setting==="HE"){
              options['0'] = "tbd";
              options['1'] = "tbd";
              options['2'] = "tbd";
              options['3'] = "tbd";
            }
            break;
          case 2:
            if(setting==="CE"){
              options['0'] = "Select";
              options['1'] = "Arrow Right";
              options['2'] = "Arrow Left";
              options['3'] = "key";
            }
            if(setting==="HE"){
              options['0'] = "tbd";
              options['1'] = "tbd";
              options['2'] = "tbd";
              options['3'] = "tbd";
            }
            break;
          default:
        }

        // for (var property in options) {
        //   if (object.hasOwnProperty(property)) {
        //     // do stuff
        //   }
        // }
        

        var click_events = [
            {"type" : "keyboard", "config" : {"func" : "select_next", "funcconfig" : {"key" : "ArrowRight"}}},
            {"type" : "keyboard", "config" : {"func" : "select_prev", "funcconfig" : {"key" : "ArrowLeft"}}},
            {"type" : "keyboard", "config" : {"func" : "click_selected", "funcconfig" : {"key" : "z"}}}
        ]
        
        var newSelect = document.createElement("select");
  
        newSelect.className = "mySelect"
        option = document.createElement("option");
        option.value = option.text = options['0'];
        newSelect.add(option);
        option2 = document.createElement("option");
        option2.value = option2.text = options['1'];
        newSelect.add(option2);
        option3 = document.createElement("option");
        option3.value = option3.text = options['2'];
        newSelect.add(option3);
        var option3 = document.createElement("option");
        option3.value = option3.text = options['3'];
        newSelect.add(option3);
        newSelect.setAttribute('onchange', 'addNewSelect(this)');

        // Create buttons for creating and removing inputs
        // var newAddButton = document.createElement("input");
        // newAddButton.type = "button";
        // newAddButton.value = " + ";

        // Append new text input to the newDiv
        mainContainer.appendChild(newSelect);

        // Append new button inputs to the newDiv
        // mainContainer.appendChild(newAddButton);

        // Append newDiv input to the mainContainer div

        // Add a handler to button for deleting the newDiv from the mainContainer
        // newAddButton.onclick = addNew;
      }

      function addNewSelect(item){
        item = item.parentNode;
        addNew(item);
      }

      document.getElementById('save').addEventListener('click', save_options);

      // Saves options to chrome.storage
      function save_options() {
        // var color = document.getElementById('color').value;
        // var likesColor = document.getElementById('like').checked;
        // chrome.storage.sync.set({
        //   favoriteColor: color,
        //   likesColor: likesColor
        // }, function() {
        //   // Update status to let user know options were saved.
        //   var status = document.getElementById('status');
        //   status.textContent = 'Options saved.';
        //   setTimeout(function() {
        //     status.textContent = '';
        //   }, 750);
        // });
        function displayResult() {
        var x = document.getElementsByClassName("mySelect");
        var txt = "All options: ";
        var i;
        console.log(x.options[i].value);
        for (i = 0; i < x.length; i++) {
          txt = txt + "\n" + x.options[i].value;
        }
        alert(txt);
        }

      }

      // Restores select box and checkbox state using the preferences
      // stored in chrome.storage.
      function restore_options() {
        // Use default value color = 'red' and likesColor = true.
        // chrome.storage.sync.get({
        //   favoriteColor: 'red',
        //   likesColor: true
        // }, function(items) {
        //   document.getElementById('color').value = items.favoriteColor;
        //   document.getElementById('like').checked = items.likesColor;
        // });
      }
      
      document.addEventListener('DOMContentLoaded', restore_options);
      document.getElementById('save').addEventListener('click', save_options);

    </script>
  </body>
</html>
